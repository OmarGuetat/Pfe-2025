<div class="app-container">
  <!-- Navbar  -->
  <app-navbar></app-navbar>

  <div class="main-layout">

    <!-- Main Content  -->
    <div class="content">
 <!-- ALERTS -->
 <div *ngIf="showSuccessAlert" class="alert alert-success alert-dismissible fade show position-absolute top-0 end-0 m-3 shadow" role="alert">
  <strong class="mx-2">Employee updated successfully!</strong>
  <button type="button" class="btn-close" (click)="showSuccessAlert = false"></button>
</div>
<div *ngIf="errorMessage" class="alert alert-danger alert-dismissible fade show custom-alert position-absolute top-0  rights-0 end-0 m-3 shadow rounded" role="alert">
  <i class="bi-exclamation-octagon-fill"></i>
    <strong class="mx-2">{{ errorMessage }}</strong>
  <button type="button" class="btn-close" (click)="dismissAlert()" aria-label="Close"></button>
</div>
<div class="d-flex justify-content-between flex-wrap align-items-center">
  <div class="w-50">
    <div class="input-group">
      <input type="text" class="form-control" [(ngModel)]="searchQuery" placeholder="Search..." />
      <button class="btn btn-primary" (click)="performSearch()">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </div>
  <div class="">
    <button class="btn btn-primary d-block d-sm-none" (click)="openModal()">Add Candidate</button>
    <button class="btn btn-primary d-none d-sm-block" (click)="openModal()">Add Candidate</button>
  </div>
</div>
<!-- Add Candidate Modal -->
<div class="modal fade" id="addCandidateModal" tabindex="-1" aria-labelledby="addCandidateModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="addCandidateModalLabel">Add New Candidate</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <!-- Candidate Form (Reactive Form) -->
        <form [formGroup]="candidateForm" (ngSubmit)="onSubmit()">
          <div class="mb-3">
            <label for="first_name" class="form-label">First Name</label>
            <input type="text" class="form-control" id="first_name" formControlName="first_name" required>
          </div>
          <div class="mb-3">
            <label for="last_name" class="form-label">Last Name</label>
            <input type="text" class="form-control" id="last_name" formControlName="last_name" required>
          </div>
          <div class="mb-3">
            <label for="username" class="form-label">Username</label>
            <input type="text" class="form-control" id="username" formControlName="username" required>
          </div>
          <div class="mb-3">
            <label for="password" class="form-label">Password</label>
            <input type="password" class="form-control" id="password" formControlName="password" required>
          </div>
          <div class="mb-3">
            <label class="form-label">Gender</label>
            <div>
              <label class="me-2">
                <input type="radio" formControlName="gender" value="male" required> Male
              </label>
              <label>
                <input type="radio" formControlName="gender" value="female" required> Female
              </label>
            </div>
          </div>
          <div class="mb-3">
            <label for="company" class="form-label">Company</label>
            <select class="form-select" id="company" formControlName="company" required>
              <option value="procan">Procan</option>
              <option value="adequat">Adequat</option>
            </select>
          </div>
          <div class="mb-3">
            <label for="role" class="form-label">Role</label>
            <select class="form-select" id="role" formControlName="role" required>
              <option value="employe">Employee</option>
              <option value="hr">HR</option>
            </select>
          </div>
          <div class="mb-3">
            <label for="email" class="form-label">Email</label>
            <input type="email" class="form-control" id="email" formControlName="email" required>
          </div>
          <div class="mb-3">
            <label for="start_date" class="form-label">Start Date</label>
            <input type="date" class="form-control" id="start_date" formControlName="start_date" required>
          </div>
          <div class="mb-3">
            <label for="initial_leave_balance" class="form-label">Initial Leave Balance</label>
            <input type="number" class="form-control" id="initial_leave_balance" formControlName="initial_leave_balance" required>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            <button type="submit" class="btn btn-primary" [disabled]="candidateForm.invalid">Save Candidate</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
<app-list-component [searchQuery]="searchQuery"></app-list-component>
</div>
</div>
</div>