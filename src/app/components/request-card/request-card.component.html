<div class="card shadow-sm p-3">
  <div class="row align-items-center">
    <!-- Leave Details -->
    <div class="col-md-8">
      <h5 class="card-title border-bottom pb-2">
        <i class="bi bi-calendar-check me-2"></i>Leave Request
      </h5>
      <p class="d-flex align-items-center">
        <i class="bi bi-calendar-event me-2 text-primary"></i>
        <strong>Start Date:</strong> {{ request.start_date }}
      </p>
      <p class="d-flex align-items-center">
        <i class="bi bi-calendar-event me-2 text-primary"></i>
        <strong>End Date:</strong> {{ request.end_date }}
      </p>
      <p class="d-flex align-items-center">
        <i class="bi bi-chat-left-text me-2 text-primary"></i>
        <strong>Reason:</strong> {{ request.reason || request.other_reason }}
      </p>
      <p class="d-flex align-items-center">
        <i class="bi bi-info-circle me-2 text-primary"></i>
        <strong>Status:</strong> 
        <span [ngClass]="getStatusClass(request.status)">{{ request.status }}</span>
      </p>
    </div>

    <!-- Swinging Calendar -->
    <div class="col-md-4 d-flex justify-content-center">
      <div class="calendar text-center">
        <div class="calendar__month">Days</div>
        <div class="calendar__day">{{ getLeaveDays() }}</div>
      </div>
    </div>
  </div>

  <!-- Three-Dot Menu -->
  <div class="position-absolute top-0 end-0 m-2">
    <div class="dropdown">
      <button class="btn btn-light btn-sm" type="button" data-bs-toggle="dropdown">
        <i class="bi bi-three-dots-vertical"></i>
      </button>
      <ul class="dropdown-menu">
        <li><button class="dropdown-item" ><i class="bi bi-eye me-2"></i>See Attachment</button></li>
        <li><button class="dropdown-item" (click)="openUpdateModal(request)"><i class="bi bi-pencil me-2"></i>Modify</button></li>
        <li><button class="dropdown-item text-danger" (click)="openDeleteModal(request)"><i class="bi bi-trash me-2"></i>Delete</button></li>
      </ul>
    </div>
  </div>
</div>
<!-- Modal for Update -->
<div class="modal fade" id="updateLeaveModal" tabindex="-1" aria-labelledby="updateLeaveModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="updateLeaveModalLabel">Update Leave Request</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <!-- Form to Update Leave -->
        <form (ngSubmit)="updateLeave()">
          <div class="mb-3">
            <label for="start_date" class="form-label">Start Date</label>
            <input type="date" id="start_date" [(ngModel)]="selectedLeave.start_date" name="start_date" class="form-control" required>
          </div>
          <div class="mb-3">
            <label for="end_date" class="form-label">End Date</label>
            <input type="date" id="end_date" [(ngModel)]="selectedLeave.end_date" name="end_date" class="form-control" required>
          </div>
          <div class="mb-3">
            <label for="reason" class="form-label">Reason</label>
            <input type="text" id="reason" [(ngModel)]="selectedLeave.reason" name="reason" class="form-control" required>
          </div>
          <div class="mb-3">
            <label for="attachment" class="form-label">Attachment</label>
            <input type="file" id="attachment" (change)="onFileChange($event)" class="form-control">
          </div>
          <button type="submit" class="btn btn-primary">Update Leave</button>
        </form>
      </div>
    </div>
  </div>
</div>

<!-- Modal for Delete -->
<div class="modal fade" id="deleteLeaveModal" tabindex="-1" aria-labelledby="deleteLeaveModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="deleteLeaveModalLabel">Delete Leave Request</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <p>Are you sure you want to delete this leave request?</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-danger" (click)="deleteLeave(request.id)">Delete</button>
      </div>
    </div>
  </div>
</div>